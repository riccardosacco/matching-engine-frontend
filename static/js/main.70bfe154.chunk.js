(this["webpackJsonpmatching-engine-frontend"]=this["webpackJsonpmatching-engine-frontend"]||[]).push([[0],{18:function(e,t,a){e.exports=a(42)},23:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),o=a(4),u=a(2),s=a(5),i=r.a.createContext(void 0),m=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-primary mb-3"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Matching Engine Frontend")))},d=function(e){var t=e.id,a=e.label,n=e.value,c=e.onChange;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("input",{className:"form-control",type:"text",id:t,value:n,onChange:c}))},y=function(e){var t=e.id,a=e.label,n=e.value,c=e.rows,l=e.onChange;return r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center mb-1"},r.a.createElement("label",{className:"m-0",htmlFor:t},a),r.a.createElement("div",null,r.a.createElement("input",{className:"btn btn-sm btn-secondary",type:"button",value:"Copy",onClick:function(){var e=document.getElementById(t);e&&(e.select(),e.setSelectionRange(0,99999)),document.execCommand("copy")}}))),r.a.createElement("textarea",{className:"form-control",id:t,rows:c,onChange:l,value:JSON.stringify(n,null,2)}))},p=(a(23),function(){var e=Object(n.useState)({query_title:"",query_director:"",query_year:""}),t=Object(s.a)(e,2),a=t[0],c=t[1],l=function(e){c(Object(u.a)(Object(u.a)({},a),{},Object(o.a)({},e.target.id,e.target.value)))},p=Object(n.useContext)(i),v=p.query,b=p.result,E=p.generateQuery,f=p.executeQuery,h=p.changeQuery;return r.a.createElement("div",{className:"app"},r.a.createElement(m,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement(d,{id:"query_title",label:"Query title",value:a.query_title,onChange:l}),r.a.createElement(d,{id:"query_director",label:"Query director",value:a.query_director,onChange:l}),r.a.createElement(d,{id:"query_year",label:"Query year",value:a.query_year,onChange:l}),r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){E(a)}},"Generate query"),r.a.createElement("button",{className:"btn btn-danger btn-block",onClick:function(){f(v)}},"Run query")),r.a.createElement("div",{className:"col-sm"},r.a.createElement(y,{id:"query",label:"Query",value:v,rows:15,onChange:function(e){h(e.target.value)}}),r.a.createElement(y,{id:"result",label:"Result",value:b,rows:15,onChange:function(){return null}})))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var v=a(3),b=a.n(v),E=a(6),f=function(e,t){switch(t.type){case"SET_QUERY":return Object(u.a)(Object(u.a)({},e),{},{query:t.payload});case"SET_RESULT":return Object(u.a)(Object(u.a)({},e),{},{result:t.payload});default:return e}},h=a(7),g=a.n(h),O="https://fqma0mxypb.execute-api.eu-central-1.amazonaws.com/v1",N=function(e){var t=Object(n.useReducer)(f,{query:{},result:{}}),a=Object(s.a)(t,2),c=a[0],l=a[1],o=function(){var e=Object(E.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{l({type:"SET_QUERY",payload:JSON.parse(t)})}catch(a){console.log("Query is NOT a valid JSON document")}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(E.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(O,"/queryGenerator"),{params:t});case 3:a=e.sent,l({type:"SET_QUERY",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l({type:"RESPONSE_ERROR"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(E.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat(O,"/queryCluster"),t);case 3:a=e.sent,l({type:"SET_RESULT",payload:a.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),l({type:"RESPONSE_ERROR"}),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(i.Provider,{value:Object(u.a)(Object(u.a)({},c),{},{generateQuery:m,executeQuery:d,changeQuery:o})},e.children)};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null,r.a.createElement(p,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.70bfe154.chunk.js.map